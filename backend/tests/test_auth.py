from fastapi.testclient import TestClient\nfrom backend.main import app\n\nclient = TestClient(app)\n\n\ndef test_register_and_login():\n    # Register a new user\n    resp = client.post("/auth/register", json={"username": "alice", "password": "secret"})\n    assert resp.status_code == 200 or resp.status_code == 201\n    # Login with the new user\n    resp = client.post("/auth/login", params={"username": "alice", "password": "secret"})\n    assert resp.status_code == 200\n    data = resp.json()\n    assert "access_token" in data\n    assert data["token_type"] == "bearer"\n\n\ndef test_login_wrong_password():\n    resp = client.post("/auth/register", json={"username": "bob", "password": "topsecret"})\n    assert resp.status_code == 200 or resp.status_code == 201\n    resp = client.post("/auth/login", params={"username": "bob", "password": "wrong"})\n    assert resp.status_code == 401 or resp.status_code == 400\n