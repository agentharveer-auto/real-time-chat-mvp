import datetime\nfrom sqlalchemy import Column, Integer, String, Text, DateTime, ForeignKey\nfrom sqlalchemy.orm import relationship\nfrom .database import Base\n\n\nclass User(Base):\n    __tablename__ = 'users'\n    id = Column(Integer, primary_key=True, index=True)\n    username = Column(String, unique=True, index=True, nullable=False)\n    hashed_password = Column(String, nullable=False)\n\n    messages = relationship("Message", back_populates="author")\n\n\nclass Room(Base):\n    __tablename__ = 'rooms'\n    id = Column(Integer, primary_key=True, index=True)\n    name = Column(String, unique=True, nullable=False)\n\n    messages = relationship("Message", back_populates="room")\n\n\nclass Message(Base):\n    __tablename__ = 'messages'\n    id = Column(Integer, primary_key=True, index=True)\n    content = Column(Text, nullable=False)\n    timestamp = Column(DateTime, default=datetime.datetime.utcnow)\n    user_id = Column(Integer, ForeignKey('users.id'))\n    room_id = Column(Integer, ForeignKey('rooms.id'))\n\n    author = relationship("User", back_populates="messages")\n    room = relationship("Room", back_populates="messages")\n